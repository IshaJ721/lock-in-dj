<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lock In DJ - Settings</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body style="background: #0f0f0f; min-height: 100vh;">
  <div class="options-container">
    <h1>Lock In DJ Settings</h1>

    <!-- Music Service -->
    <div class="options-section">
      <h2>Music Service</h2>
      <p style="font-size: 13px; color: #888; margin-bottom: 16px;">
        Open YouTube Music in a browser tab. Lock In DJ will control playback automatically.
      </p>
      <button id="open-ytmusic" class="btn-save" style="background: #ff0000;">
        Open YouTube Music
      </button>
    </div>

    <!-- Site Lists -->
    <div class="options-section">
      <h2>Site Configuration</h2>

      <div class="form-group">
        <label>Study Sites (productive)</label>
        <textarea id="study-sites" placeholder="docs.google.com&#10;notion.so&#10;github.com"></textarea>
        <p style="font-size: 11px; color: #666; margin-top: 4px;">One domain per line. Time on these sites improves your focus score.</p>
      </div>

      <div class="form-group">
        <label>Doomscroll Sites (distracting)</label>
        <textarea id="doomscroll-sites" placeholder="twitter.com&#10;instagram.com&#10;reddit.com"></textarea>
        <p style="font-size: 11px; color: #666; margin-top: 4px;">One domain per line. Time on these sites hurts your focus score.</p>
      </div>
    </div>

    <!-- Behavior -->
    <div class="options-section">
      <h2>Intervention Behavior</h2>

      <div class="form-group toggle-group">
        <div>
          <label style="margin: 0;">Enable Nuclear Option</label>
          <p style="font-size: 11px; color: #666; margin-top: 2px;">Max volume blast when doomscrolling in strict mode</p>
        </div>
        <label class="toggle">
          <input type="checkbox" id="nuclear-enabled">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <div style="margin-top: 16px;" class="form-group toggle-group">
        <div>
          <label style="margin: 0;">Enable Pomodoro</label>
          <p style="font-size: 11px; color: #666; margin-top: 2px;">Structured work/break cycles</p>
        </div>
        <label class="toggle">
          <input type="checkbox" id="pomodoro-enabled">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <div id="pomodoro-settings" style="margin-top: 16px; display: none;">
        <div class="form-group">
          <label>Work Duration (minutes)</label>
          <input type="number" id="pomodoro-work" value="25" min="5" max="60">
        </div>
        <div class="form-group">
          <label>Break Duration (minutes)</label>
          <input type="number" id="pomodoro-break" value="5" min="1" max="30">
        </div>
      </div>
    </div>

    <!-- Focus Model -->
    <div class="options-section">
      <h2>Focus Detection</h2>
      <p style="font-size: 13px; color: #888; margin-bottom: 16px;">
        The system tracks tab switches and time on blocked sites. These signals are combined into a 0-100 focus score.
      </p>

      <div class="form-group">
        <label>Tab Switch Sensitivity</label>
        <select id="tab-sensitivity" style="width: 100%; padding: 10px; background: #0f0f0f; border: 1px solid #333; border-radius: 8px; color: #e5e5e5;">
          <option value="low">Low (15+ switches = penalty)</option>
          <option value="normal" selected>Normal (10+ switches = penalty)</option>
          <option value="high">High (5+ switches = penalty)</option>
        </select>
      </div>
    </div>

    <!-- Privacy -->
    <div class="options-section">
      <h2>Privacy</h2>
      <p style="font-size: 13px; color: #888; margin-bottom: 16px;">
        Lock In DJ processes all data locally. No browsing history or personal data is sent anywhere.
      </p>

      <div style="background: #1a2e1a; border: 1px solid #2d4a2d; border-radius: 8px; padding: 12px; margin-bottom: 16px;">
        <p style="font-size: 12px; color: #4ade80; margin: 0;">
          ✓ All focus detection happens on-device<br>
          ✓ No URLs or page content is stored<br>
          ✓ Learning model stays in your browser
        </p>
      </div>

      <button id="clear-history" class="btn-save" style="background: #ef4444;">
        Reset Learning Model
      </button>
      <p style="font-size: 11px; color: #666; margin-top: 4px;">This clears intervention history and resets what works for you.</p>
    </div>

    <!-- Save -->
    <button id="save-settings" class="btn-save">
      Save Settings
    </button>
  </div>

  <script src="options.js" type="module"></script>
</body>
</html>
